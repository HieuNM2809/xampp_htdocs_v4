docker exec redis-sentinel-1 redis-cli -p 26379 SENTINEL master mymaster
docker exec redis-replica-1 redis-cli INFO replication | findstr /R "role: master_host master_link_status replica[0-9] master_port"

docker exec redis-sentinel-1 redis-cli -p 26379 SENTINEL ckquorum mymaster
docker exec redis-sentinel-1 redis-cli -p 26379 SENTINEL get-master-addr-by-name mymaster











=====  Cách Sentinel hoạt động (rất ngắn gọn)
Mỗi Sentinel ping master định kỳ.
Sau down-after-milliseconds mà không phản hồi
→ 1 Sentinel đánh dấu S_DOWN (chỉ “nghi ngờ”).
    Cần tối thiểu quorum Sentinel đồng ý để thành ODOWN (chắc chắn down)
→ bầu leader
→ chọn replica tốt nhất
→ SLAVEOF NO ONE để promote thành master
→ reconfig các replica còn lại.
    Client dùng Sentinel (như ioredis) sẽ hỏi địa chỉ master mới qua SENTINEL get-master-addr-by-name.
